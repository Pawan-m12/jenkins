pipeline {
    agent none
    stage {
    stage ('build') {
        agent { label ('slave1') }
        steps {
            sh '''
            sleep 5
            echo "this is build stage"
            '''
        }
    } 
    stage  ('test') {
        agent { label ('slave2')}
        steps {
            sh '''
            sleep 5
            echo "this is test stage "
        }
    }
    stage ('deploy') {
        agent { label 'master'}
        steps{
            sh '''
            sleep 6
            echo "this is deploy stage"
        }
    }
  }
}

